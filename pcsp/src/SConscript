Import('env')
import sys

interfaces = [ env.Uic4(uic) for uic in
  [ 
  "debugger/qt4/logconfigure.cpp",
  ] ]

files = interfaces + [
  "common/fibers.cpp",
  "common/threads.cpp",
  "debugger/debugger.cpp",
  "debugger/qt4/logconfigurecombo.cpp",
#  "debugger/qt4/qt4_memorycursor.cpp",
  "debugger/qt4/qt4_memoryscrollbar.cpp",
  "debugger/qt4/qt4_memoryspinbox.cpp",
#  "debugger/qt4/qt4_memoryviewer.cpp",
#  "debugger/qt4/qt4_memorywidget.cpp",
#  "debugger/qt4/qt4_pcspdebugger.cpp",
#  "debugger/qt4/qt4_sysmemviewer.cpp",
  "debugger/qt4/qt4_translate.cpp",
  "filesystem/blockDevice.cpp",
  "filesystem/isofilesystem.cpp",
  "filesystem/memstickfilesystem.cpp",
  "filesystem/metafilesystem.cpp",
  "filesystem/iso/IsoFile.cpp",
  "filesystem/iso/IsoFS.cpp",
  "al/al.cpp",
  "al/al_generate.cpp",
  "al/al_processor.cpp",
  "al/host_x86.cpp",
  "hle/syscalls.cpp",
  "hle/kernel/kernel.cpp",
  "hle/kernel/kernel_callback.cpp",
  "hle/kernel/kernel_eventflag.cpp",
  "hle/kernel/kernel_module.cpp",
  "hle/kernel/kernel_fpl.cpp",
  "hle/kernel/kernel_msgpipe.cpp",
  "hle/kernel/kernel_object.cpp",
  "hle/kernel/kernel_partition.cpp",
  "hle/kernel/kernel_semaphore.cpp",
  "hle/kernel/kernel_thread.cpp",
  "hle/kernel/kernel_timer.cpp",
  "hle/kernel/kernel_vpl.cpp",
  "hle/modules/ctrl/sceCtrl.cpp",
  "hle/modules/display/sceDisplay.cpp",
  "hle/modules/dmac/sceDmac.cpp",
  "hle/modules/ge/ge_Decoder.cpp",
  "hle/modules/ge/ge_DisplayListInterpreter.cpp",
  "hle/modules/ge/ge_Matrix.cpp",
  "hle/modules/ge/ge_State.cpp",
  "hle/modules/ge/ge_TextureDecoder.cpp",
  "hle/modules/ge/ge_TextureManager.cpp",
  "hle/modules/ge/sceGe_user.cpp",
  "hle/modules/impose/sceImpose.cpp",
  "hle/modules/interruptman/InterruptManager.cpp",
  "hle/modules/iofilemgr/IoFileMgrForUser.cpp",
  "hle/modules/Kernel_Library/Kernel_Library.cpp",
  "hle/modules/LoadExecForUser/LoadExecForUser.cpp",
  "hle/modules/ModuleMgrForUser/ModuleMgrForUser.cpp",
  "hle/modules/power/scePower.cpp",
  "hle/modules/rtc/sceRtc.cpp",
  "hle/modules/sceAtrac3plus/sceAtrac3plus.cpp",
  "hle/modules/sceAudio/sceAudio.cpp",
  "hle/modules/sceMpeg/sceMpeg.cpp",
  "hle/modules/sceSasCore/sceSasCore.cpp",
  "hle/modules/sceSuspendForUser/sceSuspendForUser.cpp",
  "hle/modules/sceUmdUser/sceUmdUser.cpp",
  "hle/modules/StdioForUser/StdioForUser.cpp",
  "hle/modules/sysmem/sysmem.cpp",
  "hle/modules/ThreadManForUser/ThreadManForUser.cpp",
  "hle/modules/utility/sceUtility.cpp",
  "hle/modules/UtilsForUser/UtilsForUser.cpp",
  "wtf/core/elf/ElfReader.cpp",
  "wtf/core/psp/PSPFirmwareHLE.cpp",
  "wtf/core/psp/hle/HLETables.cpp",
  "wtf/core/psp/hle/sceKernelCallback.cpp",
  "wtf/core/psp/hle/sceKernelEventFlag.cpp",
  "wtf/core/psp/hle/sceKernelModule.cpp",
  "wtf/core/psp/hle/sceKernelSemaphore.cpp",
  "wtf/core/psp/hle/sceKernelThread.cpp",
  "loaders/elf.cpp",
  "loaders/pbp.cpp",
  "loaders/psf.cpp",
  "loaders/loaders.cpp",
  "memory/memory.cpp",
  "memory/memory_linux.cpp",
  "time/emutime.cpp",
#  "qt4/aboutdialog.cpp",
#  "qt4/controllerconfigure.cpp",
#  "qt4/controllergetbutton.cpp",
  "qt4/graphicscene.cpp",
#  "qt4/mainwindow.cpp",
#  "qt4/memorycard.cpp",
#  "qt4/memorycardloadbutton.cpp",
#  "qt4/memorycardpic1label.cpp",
#  "qt4/memorycardpsflineedit.cpp",
  "qt4/openglwidget.cpp",
  "qt4/qinputsystem.cpp",
  "qt4/settings.cpp",
  "emulator.cpp",
  "emulatorthread.cpp",
#  "main.cpp",
  "log.cpp",
  "symbolmap.cpp",
  "system.cpp",
  "rasterizer_opengl.cpp",
]

libs = [
  "glee",
  "GL",
  "GLU",
  "QtCore",
  "QtGui",
  "QtXml",
]

env_main = env.Clone()
#env_main.Append(CXXFLAGS = [ '-fPIC' ])
env_main.Append(LIBS = libs)
env_main.Program(target = "pcsp_main", source = files)
